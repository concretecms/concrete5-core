(()=>{var t,e={483:(t,e,s)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}!function(t,e){"use strict";function s(t){var s=this;t=t||{},t=e.extend({dataType:"json",type:"post",loader:"standard",error:function(t){s.error(t,s)},complete:function(){s.complete(s)},skipResponseValidation:!1},t),s.options=t,s.execute()}s.prototype={execute:function(){var t=this,s=t.options,n=s.success;s.success=function(e){t.success(e,t,n)},t.before(t),e.ajax(s)},before:function(t){t.options.loader&&e.fn.dialog.showLoader()},errorResponseToString:function(t){return s.renderErrorResponse(t,!0)},error:function(t,e){0!==t.readyState&&(ConcreteEvent.fire("AjaxRequestError",{response:t}),ConcreteAlert.dialog(ccmi18n.error,s.renderErrorResponse(t,!0)))},validateResponse:function(t,e){return t.error?(ConcreteEvent.fire("AjaxRequestError",{response:t}),ConcreteAlert.dialog(ccmi18n.error,s.renderJsonError(t),(function(){e&&e(!1,t)})),!1):(e&&e(!0,t),!0)},success:function(t,e,s){("json"!=e.options.dataType||e.options.skipResponseValidation||e.validateResponse(t))&&s&&s(t)},complete:function(t){t.options.loader&&e.fn.dialog.hideLoader()}},s.renderJsonError=function(t,s){if(!t)return"";var i=function(s,n){return"number"==typeof n&&e.isArray(t.htmlErrorIndexes)&&e.inArray(n,t.htmlErrorIndexes)>=0?s:e("<div />").text(s).html().replace(/\n/g,"<br />")},a="";if("object"===n(t.error)&&e.isArray(t.error.trace)){a='<p class="text-danger"><strong>'+i(t.error.message)+"</strong></p>",a+='<p class="text-muted">'+ccmi18n.errorDetails+"</p>",a+='<table class="table"><tbody>';for(var o,r=0;r<t.error.trace.length;r++)o=t.error.trace[r],a+="<tr><td>"+o.file+"("+o.line+"): "+o.class+"->"+o.function+"<td></tr>";a+="</tbody></table>"}else e.isArray(t.errors)&&t.errors.length>0&&"string"==typeof t.errors[0]?e.each(t.errors,(function(t,e){a+='<p class="text-danger"><strong>'+i(e,t)+"</strong></p>"})):"string"==typeof t.error&&""!==t.error&&(a='<p class="text-danger" style="word-break: break-all"><strong>'+i(t.error)+"</strong></p>");return a},s.renderErrorResponse=function(t,e){return s.renderJsonError(t.responseJSON,e)||t.responseText},s.validateResponse=s.prototype.validateResponse,s.errorResponseToString=s.prototype.errorResponseToString,e.concreteAjax=function(t){new s(t)},t.ConcreteAjaxRequest=s}(s.g,jQuery)},123:(t,e,s)=>{"use strict";s(483);function n(t,e,s,n,i,a,o,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=r?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}const i=n({components:{},methods:{setLanguage:function(){var t=this;$.fn.dialog.showLoader(),$.ajax({cache:!1,dataType:"json",method:"GET",url:t.loadStringsUrl+"/"+t.selectedLocale,success:function(e){t.$emit("set-locale",t.selectedLocale),t.$emit("set-language-strings",e.i18n),t.$emit("set-preconditions",e.preconditions),t.$emit("set-starting-points",e.starting_points),t.$emit("next")},complete:function(){$.fn.dialog.hideLoader()}})}},computed:{},props:{logo:{type:String,required:!0},loadStringsUrl:{type:String,required:!0},locale:{type:String,required:!1},onlineLocales:{type:Object,required:!0},locales:{type:Object,required:!0},lang:{type:Object,required:!0}},data:function(){return{selectedLocale:null,i18n:{}}},mounted:function(){this.selectedLocale=this.locale,this.selectedLocale||(this.selectedLocale="en_US"),this.i18n=this.lang}},(function(){var t=this,e=t._self._c;return e("form",[e("div",{staticClass:"text-center"},[e("img",{staticClass:"bg-primary rounded-circle",staticStyle:{"max-height":"144px"},attrs:{src:t.logo}})]),t._v(" "),e("div",[e("h1",{staticClass:"text-center mb-4 mt-4"},[t._v(t._s(t.lang.title))])]),t._v(" "),e("div",{staticClass:"form-group"},[e("h5",[t._v(t._s(t.i18n.chooseLanguage))]),t._v(" "),e("div",{staticClass:"input-group-lg input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedLocale,expression:"selectedLocale"}],staticClass:"form-select form-select-lg",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedLocale=e.target.multiple?s:s[0]}}},[Object.entries(t.locales).length?e("optgroup",{attrs:{label:t.i18n.installedLanguages}},t._l(t.locales,(function(s,n){return e("option",{domProps:{value:n}},[t._v(t._s(s))])})),0):t._e(),t._v(" "),Object.entries(t.onlineLocales).length?e("optgroup",{attrs:{label:t.i18n.availableLanguages}},t._l(t.onlineLocales,(function(s,n){return e("option",{domProps:{value:n}},[t._v(t._s(s))])})),0):t._e()]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.setLanguage}},[e("i",{staticClass:"fas fa-arrow-right"})])])])])}),[],!1,null,null,null).exports;const a=n({components:{},props:{precondition:{type:Object,required:!0}},mounted:function(){this.createTooltips(),1!==this.precondition.result.state&&this.$emit("precondition-failed",this.precondition)},methods:{createTooltips:function(){this.$el.querySelectorAll(".launch-tooltip").forEach((function(t){new bootstrap.Tooltip(t)}))}},data:function(){return{}}},(function(){var t=this,e=t._self._c;return e("tr",[e("td",[1===t.precondition.result.state?e("i",{staticClass:"text-success fas fa-check"}):2===t.precondition.result.state?e("i",{staticClass:"text-warning fas fa-exclamation-triangle"}):4===t.precondition.result.state?e("i",{staticClass:"text-danger fas fa-exclamation-circle"}):t._e()]),t._v(" "),e("td",{staticClass:"w-100"},[e("span",{class:{"text-danger":4===t.precondition.result.state}},[t._v(t._s(t.precondition.precondition.name))])]),t._v(" "),e("td",[t.precondition.result.message?e("i",{staticClass:"fas fa-question-circle launch-tooltip",attrs:{title:t.precondition.result.message}}):t._e()])])}),[],!1,null,null,null).exports;const o=n({components:{},props:{precondition:{type:Object,required:!0}},mounted:function(){var t=this;$.ajax({cache:!1,dataType:"json",method:"GET",url:t.precondition.precondition.ajax_url}).done((function(e){400===e.response?t.requestUrlsSuccess=!0:t.requestUrlsSuccess=!1})).fail((function(e,s,n){t.requestUrlsSuccess=!1,t.ajaxFailed=!0}))},computed:{failureMessage:function(){return this.ajaxFailed?this.precondition.precondition.ajax_fail_message:this.requestUrlsSuccess?void 0:this.precondition.precondition.error_message}},watch:{requestUrlsSuccess:function(t){!1===t&&(this.createTooltips(),this.$emit("precondition-failed",this.precondition))}},methods:{createTooltips:function(){var t=this;this.$nextTick((function(){t.$el.querySelectorAll(".launch-tooltip").forEach((function(t){new bootstrap.Tooltip(t)}))}))}},data:function(){return{requestUrlsSuccess:null,ajaxFailed:!1}}},(function(){var t=this,e=t._self._c;return e("tr",[e("td",[null===t.requestUrlsSuccess?e("i",{staticClass:"fas fa-spinner fa-spin"}):t.requestUrlsSuccess?e("i",{staticClass:"text-success fas fa-check"}):e("i",{staticClass:"text-danger fas fa-exclamation-circle"})]),t._v(" "),e("td",{staticClass:"w-100"},[e("span",{class:{"text-danger":!1===t.requestUrlsSuccess||t.ajaxFailed}},[t._v(t._s(t.precondition.precondition.name))])]),t._v(" "),e("td",[!1===t.requestUrlsSuccess||t.ajaxFailed?e("i",{staticClass:"fas fa-question-circle launch-tooltip",attrs:{title:t.failureMessage}}):t._e()])])}),[],!1,null,null,null).exports;var r=n({components:{},props:{precondition:{type:Object,required:!0}},mounted:function(){this.testCookies()?this.cookiesEnabled=!0:(this.cookiesEnabled=!1,this.createTooltips(),this.$emit("precondition-failed",this.precondition))},methods:{createTooltips:function(){this.$el.querySelectorAll(".launch-tooltip").forEach((function(t){new bootstrap.Tooltip(t)}))},testCookies:function(){if("boolean"==typeof navigator.cookieEnabled)return navigator.cookieEnabled;var t="CONCRETECMS_INSTALL_TEST",e="ok_"+Math.random();return document.cookie=t+"="+e,!(document.cookie.indexOf(t+"="+e)<0)&&(document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT",!0)}},data:function(){return{cookiesEnabled:null}}},(function(){var t=this,e=t._self._c;return e("tr",[e("td",[t.cookiesEnabled?e("i",{staticClass:"text-success fas fa-check"}):e("i",{staticClass:"text-danger fas fa-exclamation-circle"})]),t._v(" "),e("td",{staticClass:"w-100"},[e("span",{class:{"text-danger":!t.cookiesEnabled}},[t._v(t._s(t.precondition.precondition.name))])]),t._v(" "),e("td",[t.cookiesEnabled?t._e():e("i",{staticClass:"fas fa-question-circle launch-tooltip",attrs:{title:t.precondition.message_failed}})])])}),[],!1,null,null,null);var l=n({components:{Precondition:a,RequestUrlsPrecondition:o,CookiesPrecondition:r.exports},methods:{preconditionFailed:function(t){this.$emit("precondition-failed",t)}},props:{preconditions:{type:Array,required:!0}},data:function(){return{}},mounted:function(){}},(function(){var t=this,e=t._self._c;return e("table",{staticClass:"table requirements-table"},[e("tbody",t._l(t.preconditions,(function(s){return e(s.precondition.component,{key:s.precondition.key,tag:"component",attrs:{precondition:s},on:{"precondition-failed":t.preconditionFailed}})})),1)])}),[],!1,null,null,null);const c=n({components:{PreconditionsList:l.exports},methods:{reloadPreconditions:function(){window.location.href=this.reloadPreconditionsUrl+"/"+this.locale},returnSortedPreconditions:function(t,e){var s=[],n=0;if(this.preconditions.forEach((function(t){(!e&&t.precondition.is_optional||e&&!t.precondition.is_optional)&&(s.push(t),n++)})),n>0){var i=[];return s.forEach((function(e,s){("left"===t&&s%2==0||"right"===t&&s%2==1)&&i.push(e)})),i}return[]},preconditionFailed:function(){this.showInstallErrors=!0}},computed:{requiredPreconditionsLeft:function(){return this.returnSortedPreconditions("left",!0)},requiredPreconditionsRight:function(){return this.returnSortedPreconditions("right",!0)},optionalPreconditionsLeft:function(){return this.returnSortedPreconditions("left")},optionalPreconditionsRight:function(){return this.returnSortedPreconditions("right")}},props:{logo:{type:String,required:!0},reloadPreconditionsUrl:{type:String,required:!0},locale:{type:String,required:!0},lang:{type:Object,required:!0},preconditions:{type:Array,required:!0}},data:function(){return{i18n:{},showInstallErrors:!1}},mounted:function(){this.i18n=this.lang}},(function(){var t=this,e=t._self._c;return e("form",[e("div",{staticClass:"text-center"},[e("img",{staticClass:"bg-primary rounded-circle",staticStyle:{"max-height":"48px"},attrs:{src:t.logo}})]),t._v(" "),e("div",[e("h3",{staticClass:"text-center mb-4 mt-3"},[t._v(t._s(t.i18n.stepRequirements))])]),t._v(" "),t.requiredPreconditionsLeft.length?e("div",{staticClass:"card mb-5"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.i18n.requiredPreconditions))]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("preconditions-list",{attrs:{preconditions:t.requiredPreconditionsLeft},on:{"precondition-failed":t.preconditionFailed}})],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("preconditions-list",{attrs:{preconditions:t.requiredPreconditionsRight},on:{"precondition-failed":t.preconditionFailed}})],1)])])]):t._e(),t._v(" "),t.optionalPreconditionsLeft.length?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.i18n.optionalPreconditions))]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("preconditions-list",{attrs:{preconditions:t.optionalPreconditionsLeft},on:{"precondition-failed":t.preconditionFailed}})],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("preconditions-list",{attrs:{preconditions:t.optionalPreconditionsRight},on:{"precondition-failed":t.preconditionFailed}})],1)])])]):t._e(),t._v(" "),t.showInstallErrors?e("div",{staticClass:"alert alert-danger mt-3"},[t._v("\n        "+t._s(t.i18n.installErrors)+"\n        "),e("span",{domProps:{innerHTML:t._s(t.i18n.installErrorsTrouble)}})]):t._e(),t._v(" "),t.showInstallErrors?e("div",{staticClass:"ccm-install-actions"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.reloadPreconditions}},[t._v("\n            "+t._s(t.i18n.runTestsAgain)+"\n        ")])]):e("div",{staticClass:"ccm-install-actions"},[e("button",{staticClass:"me-auto btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.$emit("previous")}}},[t._v("\n            "+t._s(t.i18n.back)+"\n        ")]),t._v(" "),e("button",{staticClass:"ms-auto btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("next")}}},[t._v("\n            "+t._s(t.i18n.next)+"\n        ")])])])}),[],!1,null,null,null).exports;const d=n({components:{},methods:{next:function(){this.$refs.environmentForm.checkValidity()?(this.$emit("update-install-options",{site:this.site,adminUser:this.adminUser,database:this.database,session:this.session,localization:this.localization}),this.$emit("next")):this.$refs.environmentForm.reportValidity()}},computed:{},props:{logo:{type:String,required:!0},timezones:{type:Object,required:!0},installOptions:{type:Object,required:!1},languages:{type:Object,required:!0},countries:{type:Object,required:!0},lang:{type:Object,required:!0}},data:function(){return{site:{name:"test",privacyPolicy:1,hasCanonicalUrl:0,canonicalUrl:"",hasAlternativeCanonicalUrl:0,alternativeCanonicalUrl:""},adminUser:{email:"andrew@concrete5.org",password:"password",confirmPassword:"password"},database:{server:"localhost",username:"root",password:"",database:"concrete"},session:{handler:""},localization:{siteLocaleLanguage:"",siteLocaleCountry:"",timezone:""}}},mounted:function(){this.installOptions.site&&(this.site=this.installOptions.site),this.installOptions.adminUser&&(this.adminUser=this.installOptions.adminUser),this.installOptions.database&&(this.database=this.installOptions.database),this.installOptions.session&&(this.session=this.installOptions.session),this.installOptions.localization&&(this.localization=this.installOptions.localization)}},(function(){var t=this,e=t._self._c;return e("form",{ref:"environmentForm",staticClass:"w-100"},[e("div",{staticClass:"text-center"},[e("img",{staticClass:"bg-primary rounded-circle",staticStyle:{"max-height":"48px"},attrs:{src:t.logo}})]),t._v(" "),e("div",[e("h3",{staticClass:"text-center mb-4 mt-3"},[t._v(t._s(t.lang.stepEnvironment))])]),t._v(" "),e("div",{staticClass:"card card-default mb-5"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.site))]),t._v(" "),e("div",{attrs:{id:"site"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.siteName))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.site.name,expression:"site.name"}],staticClass:"form-control form-control-lg",attrs:{type:"text",autofocus:"autofocus",required:"required"},domProps:{value:t.site.name},on:{input:function(e){e.target.composing||t.$set(t.site,"name",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.email))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminUser.email,expression:"adminUser.email"}],staticClass:"form-control form-control-lg",attrs:{type:"email",required:"required"},domProps:{value:t.adminUser.email},on:{input:function(e){e.target.composing||t.$set(t.adminUser,"email",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.password))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminUser.password,expression:"adminUser.password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",required:"required"},domProps:{value:t.adminUser.password},on:{input:function(e){e.target.composing||t.$set(t.adminUser,"password",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.confirmPassword))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminUser.confirmPassword,expression:"adminUser.confirmPassword"}],staticClass:"form-control form-control-lg",attrs:{type:"password",required:"required"},domProps:{value:t.adminUser.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.adminUser,"confirmPassword",e.target.value)}}})])])])])])]),t._v(" "),e("div",{staticClass:"card card-default mb-5"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.database))]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.dbServer))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.database.server,expression:"database.server"}],staticClass:"form-control form-control-lg",attrs:{type:"text",required:"required"},domProps:{value:t.database.server},on:{input:function(e){e.target.composing||t.$set(t.database,"server",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.dbUsername))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.database.username,expression:"database.username"}],staticClass:"form-control form-control-lg",attrs:{type:"text"},domProps:{value:t.database.username},on:{input:function(e){e.target.composing||t.$set(t.database,"username",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.dbPassword))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.database.password,expression:"database.password"}],staticClass:"form-control form-control-lg",attrs:{type:"password"},domProps:{value:t.database.password},on:{input:function(e){e.target.composing||t.$set(t.database,"password",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.dbDatabase))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.database.database,expression:"database.database"}],staticClass:"form-control form-control-lg",attrs:{type:"text",required:"required"},domProps:{value:t.database.database},on:{input:function(e){e.target.composing||t.$set(t.database,"database",e.target.value)}}})])])])])]),t._v(" "),e("div",{staticClass:"card card-default mb-5"},[e("div",{staticClass:"card-header"},[t._v("\n            "+t._s(t.lang.privacyPolicy)+"\n        ")]),t._v(" "),e("div",{staticClass:"card-body"},[e("p",{staticClass:"text-muted"},[t._v(t._s(t.lang.privacyPolicyExplanation))]),t._v(" "),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.site.privacyPolicy,expression:"site.privacyPolicy"}],staticClass:"form-check-input",attrs:{type:"checkbox",required:"",id:"privacyPolicy"},domProps:{checked:Array.isArray(t.site.privacyPolicy)?t._i(t.site.privacyPolicy,null)>-1:t.site.privacyPolicy},on:{change:function(e){var s=t.site.privacyPolicy,n=e.target,i=!!n.checked;if(Array.isArray(s)){var a=t._i(s,null);n.checked?a<0&&t.$set(t.site,"privacyPolicy",s.concat([null])):a>-1&&t.$set(t.site,"privacyPolicy",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.site,"privacyPolicy",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"privacyPolicy"}},[e("span",{domProps:{innerHTML:t._s(t.lang.privacyPolicyLabel)}})])])])]),t._v(" "),e("div",{staticClass:"card card-default"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.advancedOptions))]),t._v(" "),e("div",{staticClass:"card-body container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("div",{staticClass:"form-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.site.hasCanonicalUrl,expression:"site.hasCanonicalUrl"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"canonicalUrlChecked"},domProps:{checked:Array.isArray(t.site.hasCanonicalUrl)?t._i(t.site.hasCanonicalUrl,null)>-1:t.site.hasCanonicalUrl},on:{change:function(e){var s=t.site.hasCanonicalUrl,n=e.target,i=!!n.checked;if(Array.isArray(s)){var a=t._i(s,null);n.checked?a<0&&t.$set(t.site,"hasCanonicalUrl",s.concat([null])):a>-1&&t.$set(t.site,"hasCanonicalUrl",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.site,"hasCanonicalUrl",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"canonicalUrlChecked"}},[t._v("\n                                "+t._s(t.lang.mainCanonicalUrl)+"\n                            ")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.site.canonicalUrl,expression:"site.canonicalUrl"}],staticClass:"form-control form-control-lg",attrs:{type:"url",pattern:"https?:.+",placeholder:t.lang.urlPlaceholder,disabled:!t.site.hasCanonicalUrl},domProps:{value:t.site.canonicalUrl},on:{input:function(e){e.target.composing||t.$set(t.site,"canonicalUrl",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mb-3"},[e("div",{staticClass:"form-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.site.hasAlternativeCanonicalUrl,expression:"site.hasAlternativeCanonicalUrl"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"alternativeCanonicalUrlChecked"},domProps:{checked:Array.isArray(t.site.hasAlternativeCanonicalUrl)?t._i(t.site.hasAlternativeCanonicalUrl,null)>-1:t.site.hasAlternativeCanonicalUrl},on:{change:function(e){var s=t.site.hasAlternativeCanonicalUrl,n=e.target,i=!!n.checked;if(Array.isArray(s)){var a=t._i(s,null);n.checked?a<0&&t.$set(t.site,"hasAlternativeCanonicalUrl",s.concat([null])):a>-1&&t.$set(t.site,"hasAlternativeCanonicalUrl",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.site,"hasAlternativeCanonicalUrl",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"alternativeCanonicalUrlChecked"}},[t._v("\n                                "+t._s(t.lang.alternativeCanonicalUrl)+"\n                            ")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.site.alternativeCanonicalUrl,expression:"site.alternativeCanonicalUrl"}],staticClass:"form-control form-control-lg",attrs:{type:"url",pattern:"https?:.+",placeholder:t.lang.urlPlaceholder,disabled:!t.site.hasAlternativeCanonicalUrl},domProps:{value:t.site.alternativeCanonicalUrl},on:{input:function(e){e.target.composing||t.$set(t.site,"alternativeCanonicalUrl",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.sessionHandler))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.session.handler,expression:"session.handler"}],staticClass:"form-control form-control-lg",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.session,"handler",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v(t._s(t.lang.sessionHandlerDefault))]),t._v(" "),e("option",{attrs:{value:"database"}},[t._v(t._s(t.lang.sessionHandlerDatabase))])])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.language))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.localization.siteLocaleLanguage,expression:"localization.siteLocaleLanguage"}],staticClass:"form-select form-select-lg",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.localization,"siteLocaleLanguage",e.target.multiple?s:s[0])}}},t._l(t.languages,(function(s,n){return e("option",{domProps:{value:n}},[t._v(t._s(s))])})),0)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.country))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.localization.siteLocaleCountry,expression:"localization.siteLocaleCountry"}],staticClass:"form-select form-select-lg",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.localization,"siteLocaleCountry",e.target.multiple?s:s[0])}}},t._l(t.countries,(function(s,n){return e("option",{domProps:{value:n}},[t._v(t._s(s))])})),0)]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v(t._s(t.lang.timezone))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.localization.timezone,expression:"localization.timezone"}],staticClass:"form-select form-select-lg",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.localization,"timezone",e.target.multiple?s:s[0])}}},t._l(t.timezones,(function(s,n){return e("option",{domProps:{value:n}},[t._v(t._s(s))])})),0)])])])])]),t._v(" "),e("div",{staticClass:"ccm-install-actions"},[e("button",{staticClass:"me-auto btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.$emit("previous")}}},[t._v("\n            "+t._s(t.lang.back)+"\n        ")]),t._v(" "),e("button",{staticClass:"ms-auto btn btn-primary",attrs:{type:"button"},on:{click:t.next}},[t._v("\n            "+t._s(t.lang.next)+"\n        ")])])])}),[],!1,null,null,null).exports;const u=n({components:{},methods:{selectStartingPoint:function(){this.$emit("select-starting-point",this.selectedStartingPoint)}},computed:{featuredStartingPoints:function(){var t=[];return this.startingPoints.forEach((function(e){e.thumbnail&&t.push(e)})),t},otherStartingPoints:function(){var t=[];return this.startingPoints.forEach((function(e){e.thumbnail||t.push(e)})),t}},props:{logo:{type:String,required:!0},startingPoint:{type:String,required:!1},startingPoints:{type:Array,required:!0},lang:{type:Object,required:!0}},data:function(){return{selectedStartingPoint:""}},mounted:function(){this.selectedStartingPoint=this.startingPoint}},(function(){var t=this,e=t._self._c;return e("form",[e("div",{staticClass:"text-center"},[e("img",{staticClass:"bg-primary rounded-circle",staticStyle:{"max-height":"48px"},attrs:{src:t.logo}})]),t._v(" "),e("div",[e("h3",{staticClass:"text-center mb-4 mt-3"},[t._v(t._s(t.lang.stepContent))])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"row row-cols-1 row-cols-md-2 mb-3 text-center"},t._l(t.featuredStartingPoints,(function(s){return e("div",{staticClass:"col"},[e("div",{staticClass:"card mb-4 rounded-3"},[e("img",{staticClass:"card-img-top",attrs:{src:s.thumbnail}}),t._v(" "),e("div",{staticClass:"card-body"},[e("h1",{staticClass:"card-title"},[t._v(t._s(s.name))]),t._v(" "),e("ul",{staticClass:"list-unstyled mt-3 mb-4"},t._l(s.description,(function(s){return e("li",[t._v(t._s(s))])})),0),t._v(" "),e("button",{class:{active:t.selectedStartingPoint===s.handle,"w-100":!0,btn:!0,"btn-lg btn-outline-primary":!0},attrs:{type:"button"},on:{click:function(e){t.selectedStartingPoint=s.handle}}},[t.selectedStartingPoint===s.handle?e("span",[t._v("\n                            "+t._s(t.lang.selected)+" "),e("i",{staticClass:"fa fa-check-circle"})]):e("span",[t._v("\n                            "+t._s(t.lang.select)+" "+t._s(s.name)+"\n                        ")])])])])])})),0),t._v(" "),e("div",{staticClass:"card card-default"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.otherStartingPoints))]),t._v(" "),e("div",{staticClass:"container",attrs:{id:"starting-point"}},[e("div",{staticClass:"card-body"},t._l(t.otherStartingPoints,(function(s,n){return e("div",{class:{"align-items-center":!0,"d-flex":!0,"mb-4":n+1<t.otherStartingPoints.length}},[e("div",{staticClass:"me-3"},[e("div",[e("b",[t._v(t._s(s.name))])]),t._v(" "),e("div",{staticClass:"text-muted"},[t._v(t._s(s.description))])]),t._v(" "),e("button",{class:{"col-3":!0,active:t.selectedStartingPoint===s.handle,"ms-auto":!0,btn:!0,"btn-outline-primary":!0},attrs:{type:"button"},on:{click:function(e){t.selectedStartingPoint=s.handle}}},[t.selectedStartingPoint===s.handle?e("span",[t._v("\n                            "+t._s(t.lang.selected)+"\n                        ")]):e("span",[t._v("\n                            "+t._s(t.lang.select)+"\n                        ")])])])})),0)])]),t._v(" "),e("div",{staticClass:"ccm-install-actions"},[e("button",{staticClass:"me-auto btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.$emit("previous")}}},[t._v("\n            "+t._s(t.lang.back)+"\n        ")]),t._v(" "),e("button",{staticClass:"ms-auto btn btn-primary",attrs:{type:"button",disabled:!t.selectedStartingPoint},on:{click:function(e){return t.$emit("select-starting-point",t.selectedStartingPoint)}}},[t._v("\n            "+t._s(t.lang.next)+"\n        ")])])])}),[function(){var t=this._self._c;return t("div",[t("h5",{staticClass:"text-center mb-4 mt-2"},[this._v("Choose a Theme")])])}],!1,null,null,null).exports;const p=n({components:{},methods:{initProgressBar:function(){NProgress.configure({showSpinner:!1})}},computed:{},props:{logo:{type:String,required:!0},startingPointRoutineUrl:{type:String,required:!0},beginInstallationUrl:{type:String,required:!0},installOptions:{type:Object,required:!0},lang:{type:Object,required:!0}},data:function(){return{routines:null,currentProgress:null,currentRoutine:null,installError:null}},watch:{currentRoutine:function(t){var e=this;if(this.routines.length>t){var s=this.installOptions.startingPoint,n=this.routines[t],i=this.startingPointRoutineUrl+"/"+s;e.currentProgress=n.text,$.ajax({cache:!1,dataType:"json",method:"post",data:{routine:n,options:this.installOptions},url:i,success:function(t){t.error?e.installError=t.message:(e.currentRoutine++,NProgress.set(e.currentRoutine/e.routines.length))}})}else NProgress.done(),e.currentProgress=e.lang.installationComplete,e.$emit("installation-complete")}},mounted:function(){this.initProgressBar();var t=this;t.currentProgress=this.lang.loadingInstallationRoutines,$.ajax({cache:!1,dataType:"json",method:"post",data:this.installOptions,url:t.beginInstallationUrl,success:function(e){t.routines=e,t.currentRoutine=0}})}},(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"text-center position-relative"},[t._m(0),t._v(" "),e("img",{staticClass:"bg-primary rounded-circle",staticStyle:{"max-height":"48px"},attrs:{src:t.logo}})]),t._v(" "),e("div",[e("h3",{staticClass:"text-center mb-4 mt-3"},[t._v(t._s(t.lang.stepPerformInstallation))])]),t._v(" "),e("div",{attrs:{id:"interstitial-message"}},[t.installError||t.currentProgress?e("div",{staticClass:"mb-3"},[t.installError?e("div",{staticClass:"alert alert-danger"},[e("span",{domProps:{innerHTML:t._s(t.installError)}})]):e("div",[e("div",{staticClass:"lead text-center"},[t._v("\n                    "+t._s(t.currentProgress)+"\n                ")])])]):t._e(),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.interstitial.whileYouWait))]),t._v(" "),e("div",{staticClass:"card-body"},[e("h4",{},[t._v(t._s(t.lang.interstitial.forums))]),t._v(" "),e("p",[e("span",{domProps:{innerHTML:t._s(t.lang.interstitial.forumsMessage)}})]),t._v(" "),e("h4",{},[t._v(t._s(t.lang.interstitial.userDocumentation))]),t._v(" "),e("p",[e("span",{domProps:{innerHTML:t._s(t.lang.interstitial.userDocumentationMessage)}})]),t._v(" "),e("h4",{},[t._v(t._s(t.lang.interstitial.screencasts))]),t._v(" "),e("p",[e("span",{domProps:{innerHTML:t._s(t.lang.interstitial.screencastsMessage)}})]),t._v(" "),e("h4",{},[t._v(t._s(t.lang.interstitial.developerDocumentation))]),t._v(" "),e("p",[e("span",{domProps:{innerHTML:t._s(t.lang.interstitial.developerDocumentationMessage)}})])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"position-absolute w-100",staticStyle:{top:"-8px"}},[t("div",{staticClass:"spinner-border text-primary",staticStyle:{width:"64px",height:"64px"},attrs:{role:"status"}})])}],!1,null,null,null).exports;const v=n({components:{},methods:{},computed:{},props:{logo:{type:String,required:!0},lang:{type:Object,required:!0},installOptions:{type:Object,required:!0}},data:function(){return{showPassword:!1,showDatabasePassword:!1}},mounted:function(){}},(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"text-center"},[e("img",{staticClass:"bg-primary rounded-circle",staticStyle:{"max-height":"48px"},attrs:{src:t.logo}})]),t._v(" "),e("div",[e("h3",{staticClass:"text-center mb-4 mt-3"},[t._v(t._s(t.lang.stepConfirm))])]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.confirm.site))]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.site))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.site.name))])]),t._v(" "),t.installOptions.site.hasCanonicalUrl?e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.mainCanonicalUrl))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.site.canonicalUrl))])]):t._e(),t._v(" "),t.installOptions.site.hasAlternativeCanonicalUrl?e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.alternativeCanonicalUrl))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.site.alternativeCanonicalUrl))])]):t._e()])]),t._v(" "),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.confirm.adminUser))]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.email))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.adminUser.email))])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.password))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t.showPassword?e("span",[t._v("\n                    "+t._s(t.installOptions.adminUser.password)+"\n                ")]):e("span",[e("code",[t._v("•••••••••••••")]),t._v(" "),e("a",{staticClass:"text-secondary link-primary",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showPassword=!0}}},[e("i",{staticClass:"fa fa-eye"})])])])])])]),t._v(" "),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.confirm.database))]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.dbServer))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.database.server))])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.dbUsername))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.database.username))])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.dbPassword))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t.showDatabasePassword?e("span",[t._v("\n                    "+t._s(t.installOptions.database.password)+"\n                ")]):e("span",[e("code",[t._v("•••••••••••••")]),t._v(" "),e("a",{staticClass:"text-secondary link-primary",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showDatabasePassword=!0}}},[e("i",{staticClass:"fa fa-eye"})])])])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.dbDatabase))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.database.database))])])])]),t._v(" "),""!==t.installOptions.session.handler?e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.confirm.session))]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.sessionHandler))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.session.handler))])])])]):t._e(),t._v(" "),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.confirm.localization))]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.locale))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[e("code",[t._v(t._s(t.installOptions.locale))])])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.language))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.localization.siteLocaleLanguage))])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.country))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.localization.siteLocaleCountry))])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.timezone))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.localization.timezone))])])])]),t._v(" "),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-header"},[t._v(t._s(t.lang.confirm.content))]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 text-end"},[e("b",[t._v(t._s(t.lang.startingPoint))])]),t._v(" "),e("div",{staticClass:"col-md-8"},[t._v(t._s(t.installOptions.startingPoint))])])])]),t._v(" "),e("div",{staticClass:"ccm-install-actions"},[e("button",{staticClass:"me-auto btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.$emit("previous")}}},[t._v("\n            "+t._s(t.lang.back)+"\n        ")]),t._v(" "),e("button",{staticClass:"ms-auto btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("next")}}},[t._v("\n            "+t._s(t.lang.confirm.beginInstallation)+"\n        ")])])])}),[],!1,null,null,null).exports;var m=n({components:{},methods:{},computed:{},props:{installationCompleteUrl:{type:String,required:!0},logo:{type:String,required:!0},lang:{type:Object,required:!0}},data:function(){return{}},mounted:function(){}},(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"text-center"},[e("img",{staticClass:"bg-primary rounded-circle",staticStyle:{"max-height":"48px"},attrs:{src:t.logo}})]),t._v(" "),e("div",[e("h3",{staticClass:"text-center mb-4 mt-3"},[t._v(t._s(t.lang.stepInstallationComplete))])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 offset-md-3 text-center"},[e("div",{staticClass:"mb-4 text-start"},[e("span",{domProps:{innerHTML:t._s(t.lang.installationCompleteMessage)}})]),t._v(" "),e("a",{staticClass:"btn btn-lg btn-primary",attrs:{href:t.installationCompleteUrl}},[t._v(t._s(t.lang.editYourSite))])])])])}),[],!1,null,null,null);const g=n({components:{ChooseLanguage:i,Preconditions:c,Environment:d,ChooseContent:u,PerformInstallation:p,ConfirmInstallation:v,InstallationComplete:m.exports},watch:{environmentErrors:function(){window.scrollTo(0,0)},environmentWarnings:function(t){t.length&&window.scrollTo(0,0)}},methods:{selectStartingPoint:function(t){this.startingPoint=t,this.next()},translateOptionPreconditionsToErrorsAndWarnings:function(){var t=this;this.environmentWarnings=[],this.optionsPreconditions.forEach((function(e){4===e.result.state?e.precondition.is_optional?t.ignoreWarnings||t.environmentWarnings.push(e.result.message):t.environmentErrors.push(e.result.message):2===e.result.state&&(t.ignoreWarnings||t.environmentWarnings.push(e.result.message))}))},updateInstallOptions:function(t){this.installOptions=t,this.installOptions.locale=this.selectedLocale,this.installOptions.startingPoint=this.startingPoint},validateInstallOptions:function(t){var e=this;$.fn.dialog.showLoader(),$.ajax({cache:!1,dataType:"json",method:"post",data:this.installOptions,url:e.validateEnvironmentUrl,success:function(s){$.fn.dialog.hideLoader(),s.error&&s.error.error?e.environmentErrors=s.error.errors:e.environmentErrors=[],e.optionsPreconditions=s.preconditions,e.translateOptionPreconditionsToErrorsAndWarnings(),t&&(e.environmentErrors.length||e.environmentWarnings.length&&!e.ignoreWarnings||e.next())},complete:function(){$.fn.dialog.hideLoader()}})},setLocale:function(t){this.selectedLocale=t},setLanguageStrings:function(t){this.i18n=t},setPreconditions:function(t){this.loadedPreconditions=t},setStartingPoints:function(t){this.loadedStartingPoints=t},previous:function(){"confirm"===this.step?this.step="environment":"environment"===this.step?this.step="content":"content"===this.step?this.step="requirements":"requirements"===this.step&&(this.step="language"),this.environmentWarnings=[],this.environmentErrors=[]},next:function(){"language"===this.step?this.step="requirements":"requirements"===this.step?this.step="content":"content"===this.step?this.step="environment":"environment"===this.step?this.step="confirm":"confirm"===this.step&&(this.step="perform_installation"),this.environmentWarnings=[],this.environmentErrors=[]},returnSortedPreconditions:function(t,e){var s=[],n=0;if(this.loadedPreconditions.forEach((function(t){(!e&&t.is_optional||e&&!t.is_optional)&&(s.push(t),n++)})),n>0){var i=[];return s.forEach((function(e,s){("left"===t&&s%2==0||"right"===t&&s%2==1)&&i.push(e)})),i}return[]}},computed:{stepTitle:function(){return"installation_complete"===this.step?this.i18n.stepInstallationComplete:"perform_installation"===this.step?this.i18n.stepPerformInstallation:"content"===this.step?this.i18n.stepContent:"language"===this.step?this.i18n.stepLanguage:"requirements"===this.step?this.i18n.stepRequirements:"environment"===this.step?this.i18n.stepEnvironment:void 0}},props:{installationCompleteUrl:{type:String,required:!0},logo:{type:String,required:!0},defaultStartingPoint:{type:String,required:!1},timezones:{type:Object,required:!0},timezone:{type:String,required:!1},validateEnvironmentUrl:{type:String,required:!0},loadStringsUrl:{type:String,required:!0},beginInstallationUrl:{type:String,required:!0},startingPointRoutineUrl:{type:String,required:!0},reloadPreconditionsUrl:{type:String,required:!0},locale:{type:String,required:!1},concreteVersion:{type:String,required:!0},startingPoints:{type:Array,required:!1},preconditions:{type:Array,required:!1},locales:{type:Object,required:!0},countries:{type:Object,required:!0},siteLocaleLanguage:{type:String,required:!1},siteLocaleCountry:{type:String,required:!1},languages:{type:Object,required:!0},lang:{type:Object,required:!0},onlineLocales:{type:Object,required:!0}},data:function(){return{step:null,selectedLocale:null,i18n:{},loadedPreconditions:[],loadedStartingPoints:[],environmentWarnings:[],environmentErrors:[],optionsPreconditions:[],ignoreWarnings:!1,startingPoint:null,installOptions:{}}},mounted:function(){this.selectedLocale=this.locale,this.i18n=this.lang,this.preconditions&&(this.loadedPreconditions=this.preconditions),this.startingPoints&&(this.loadedStartingPoints=this.startingPoints),this.otherStartingPoints&&(this.loadedOtherStartingPoints=this.otherStartingPoints),this.defaultStartingPoint&&(this.startingPoint=this.defaultStartingPoint),this.locale?this.step="requirements":this.step="language",this.installOptions={localization:{siteLocaleLanguage:this.siteLocaleLanguage,siteLocaleCountry:this.siteLocaleCountry,timezone:"America/Los_Angeles"}}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ccm-ui"},[e("div",{staticClass:"ccm-install-version"},[e("small",[t._v(t._s(t.concreteVersion))])]),t._v(" "),t.environmentErrors.length>0?e("div",{staticClass:"alert alert-danger mb-5"},[e("span",{domProps:{innerHTML:t._s(t.environmentErrors.join("<br>"))}})]):t._e(),t._v(" "),t.environmentWarnings.length>0?e("div",{staticClass:"alert alert-warning mb-5"},[e("span",{domProps:{innerHTML:t._s(t.environmentWarnings.join("<br>"))}}),t._v(" "),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.ignoreWarnings,expression:"ignoreWarnings"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"ignoreWarnings"},domProps:{checked:Array.isArray(t.ignoreWarnings)?t._i(t.ignoreWarnings,null)>-1:t.ignoreWarnings},on:{change:function(e){var s=t.ignoreWarnings,n=e.target,i=!!n.checked;if(Array.isArray(s)){var a=t._i(s,null);n.checked?a<0&&(t.ignoreWarnings=s.concat([null])):a>-1&&(t.ignoreWarnings=s.slice(0,a).concat(s.slice(a+1)))}else t.ignoreWarnings=i}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"ignoreWarnings"}},[t._v(t._s(t.i18n.ignoreWarnings))])])]):t._e(),t._v(" "),e("transition",{attrs:{name:"install-step",mode:"out-in"}},["language"===t.step?e("choose-language",{attrs:{logo:t.logo,"load-strings-url":t.loadStringsUrl,locales:t.locales,locale:t.locale,"online-locales":t.onlineLocales,lang:t.lang},on:{"set-locale":t.setLocale,"set-language-strings":t.setLanguageStrings,"set-preconditions":t.setPreconditions,"set-starting-points":t.setStartingPoints,next:t.next}}):"requirements"===t.step?e("preconditions",{attrs:{locale:t.selectedLocale,logo:t.logo,lang:t.lang,preconditions:t.loadedPreconditions,"reload-preconditions-url":t.reloadPreconditionsUrl},on:{previous:t.previous,next:t.next}}):"content"===t.step?e("choose-content",{attrs:{locale:t.selectedLocale,lang:t.lang,logo:t.logo,"starting-points":t.loadedStartingPoints,"starting-point":t.startingPoint},on:{"select-starting-point":t.selectStartingPoint,previous:t.previous}}):"environment"===t.step?e("environment",{attrs:{lang:t.lang,logo:t.logo,languages:t.languages,countries:t.countries,timezones:t.timezones,"install-options":t.installOptions},on:{previous:t.previous,"update-install-options":t.updateInstallOptions,next:function(e){return t.validateInstallOptions(!0)}}}):"confirm"===t.step?e("confirm-installation",{attrs:{lang:t.lang,logo:t.logo,"install-options":t.installOptions},on:{previous:t.previous,next:t.next}}):"perform_installation"===t.step?e("perform-installation",{attrs:{"begin-installation-url":t.beginInstallationUrl,lang:t.lang,logo:t.logo,"install-options":t.installOptions,"starting-point-routine-url":t.startingPointRoutineUrl},on:{"installation-complete":function(e){t.step="installation_complete"}}}):"installation_complete"===t.step?e("installation-complete",{attrs:{logo:t.logo,"installation-complete-url":t.installationCompleteUrl,lang:t.lang}}):t._e()],1)],1)}),[],!1,null,null,null).exports;$((function(){new Vue({el:"#ccm-page-install",components:{ConcreteInstaller:g}})}))},159:()=>{},749:()=>{}},s={};function n(t){var i=s[t];if(void 0!==i)return i.exports;var a=s[t]={exports:{}};return e[t](a,a.exports,n),a.exports}n.m=e,t=[],n.O=(e,s,i,a)=>{if(!s){var o=1/0;for(d=0;d<t.length;d++){for(var[s,i,a]=t[d],r=!0,l=0;l<s.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((t=>n.O[t](s[l])))?s.splice(l--,1):(r=!1,a<o&&(o=a));if(r){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[s,i,a]},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={496:0,31:0,261:0};n.O.j=e=>0===t[e];var e=(e,s)=>{var i,a,[o,r,l]=s,c=0;if(o.some((e=>0!==t[e]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)var d=l(n)}for(e&&e(s);c<o.length;c++)a=o[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},s=self.webpackChunkconcreteCMS=self.webpackChunkconcreteCMS||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})(),n.O(void 0,[31,261],(()=>n(123))),n.O(void 0,[31,261],(()=>n(159)));var i=n.O(void 0,[31,261],(()=>n(749)));i=n.O(i)})();